"C:\Users\zz\_vimrc
"vim/gvim é…ç½® for Windows

"" ç¦æ­¢å…‰æ ‡é—ªçƒ
set gcr=a:block-blinkon0
set nocp

""""""""""""""""""""""å¯ç”¨winå¿«æ·é”®"""""""""""""""""""""
"""""åŒ…æ‹¬ctrl+c,ctrl+vç­‰
source $VIMRUNTIME/mswin.vim
behave mswin   " å…¼å®¹windowsä¸‹çš„å¿«æ·é”®

"""""""""""""""""""""""éšè—GUIçš„æ²¡ç”¨ç»„ä»¶""""""""""""""""""""
set go= " éšè—å·¥å…·æ 
set guioptions-=m " éšè—èœå•æ  
set guioptions-=T " éšè—å·¥å…·æ  
""set guioptions-=L " éšè—å·¦ä¾§æ»šåŠ¨æ¡ 
set guioptions-=r " éšè—å³ä¾§æ»šåŠ¨æ¡ 

""ä»¥ä¸‹æ˜¯é€šç”¨é…ç½®""

""""""""""""""""""""ç¼–ç ç›¸å…³""""""""""""""""""""""""""""""""
set encoding=utf-8 
""é ï¼Œwin7ä¸‹é»˜è®¤æ˜¯cp936ï¼Œè¿™ä¸æ˜¯æ·±æ·±çš„å‘ä¹ˆï¼
""å¯æ˜¯ï¼Œå¦‚æœä»…ä»…è®¾å®šencodingä¸ºutf8ï¼Œé‚£ä¹ˆèœå•å’Œå„ç§ä¿¡æ¯æç¤ºï¼Œéƒ½ä¹±ç äº†ï¼

set fileencoding=utf-8
set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1
""æ³¨æ„è¿™ä¸ªé¡ºåºæ˜¯ç»è¿‡è€ƒè™‘çš„

set langmenu=zh_CN.UTF-8
language message zh_CN.UTF-8

""è§£å†³èœå•ä¹±ç 
""éœ€è¦å…ˆè®¾å®šencodingå’Œfileencodingç­‰
source $VIMRUNTIME/delmenu.vim
source $VIMRUNTIME/menu.vim

set guifont=Monaco:h11	""è‹±æ–‡å­—ä½“
""set guifont=Consolas:h12
set guifontwide=YaHei_Consolas_Hybrid:h12	""ä¸­æ–‡å­—ä½“ã€‚æ€»ç®—æœ‰ä¸ªèƒ½ç”¨çš„


"""""""""""""""""""""""""""æ˜¾ç¤ºæ ¼å¼ç›¸å…³"""""""""""""""""""""""""""""""
set nu "è¡Œå·ï¼Œnumber
set ai  "auto indent è‡ªåŠ¨ç¼©è¿›
set history=1000
set ruler	"always show cursor
set showcmd	"always display command
set backspace=indent,eol,start	"make <BS>(backspace> available
""set relativenumber  ç›¸å¯¹è¡Œå·ï¼Œç”¨èµ·æ¥ä¸æ˜¯å¾ˆèˆ’æœã€‚
syntax on
set novisualbell
set cursorline	"é«˜äº®å½“å‰è¡Œ

set smartindent
set tabstop=4
set shiftwidth=4
set showmode

""""""""""""""""""""""ctagsé…ç½®"""""""""""""""""""""""
set tags=tags;
set autochdir

""""""""""""""""""""""æ–‡ä»¶å¤´é…ç½®""""""""""""""""""""""
"æ–°å»º.c,.h,.sh,.javaæ–‡ä»¶ï¼Œè‡ªåŠ¨æ’å…¥æ–‡ä»¶å¤´ 
autocmd BufNewFile *.cpp,*.[ch],*.sh,*.java exec ":call SetTitle()"
""å®šä¹‰å‡½æ•°SetTitleï¼Œè‡ªåŠ¨æ’å…¥æ–‡ä»¶å¤´ 
func SetTitle() 
	"å¦‚æœæ–‡ä»¶ç±»å‹ä¸º.shæ–‡ä»¶ 
	if &filetype == 'sh'
		call setline(1,"\##################################################")
		call append(line("."), "\# Filename: ".expand("%")) 
		call append(line(".")+1, "\# Author: ChrisZZ") 
		call append(line(".")+2, "\# E-mail: zchrissirhcz@163.com") 
		call append(line(".")+3, "\# Created Time: ".strftime("%c")) 
		call append(line(".")+4, "\##################################################") 
		call append(line(".")+5, "\#!/bin/bash") 
		call append(line(".")+6, "") 
	endif

	if &filetype == 'c'
		call setline(1, "/*") 
		call append(line("."), " * ==================================================")
		call append(line(".")+1, " *")
		call append(line(".")+2, " *       Filename:  ".expand("%")) 
		call append(line(".")+3, " *")
		call append(line(".")+4, " *    Description:  ")
		call append(line(".")+5, " *")
		call append(line(".")+6, " *        Version:  0.01")
		call append(line(".")+7, " *        Created:  ".strftime("%c")) 
		call append(line(".")+8, " *         Author:  ChrisZZ, zchrissirhcz@163.com")
		call append(line(".")+9," *        Company:  ZJUT")
		call append(line(".")+10, " *")
		call append(line(".")+11, " * ==================================================")
		call append(line(".")+12, " */")
		call append(line(".")+13, "#include <stdio.h>")
		call append(line(".")+14, "")
		call append(line(".")+15, "int main(){")
		call append(line(".")+16, "")
		call append(line(".")+17, "	return 0;")
		call append(line(".")+18, "}")
	endif
	if &filetype == 'cpp'
		call setline(1, "/*") 
		call append(line("."), " * ==================================================")
		call append(line(".")+1, " *")
		call append(line(".")+2, " *       Filename:  ".expand("%")) 
		call append(line(".")+3, " *")
		call append(line(".")+4, " *    Description:  ")
		call append(line(".")+5, " *")
		call append(line(".")+6, " *        Version:  0.01")
		call append(line(".")+7, " *        Created:  ".strftime("%c")) 
		call append(line(".")+8, " *         Author:  ChrisZZ, zchrissirhcz@163.com")
		call append(line(".")+9," *        Company:  ZJUT")
		call append(line(".")+10, " *")
		call append(line(".")+11, " * ==================================================")
		call append(line(".")+12, " */")
		call append(line(".")+13, "#include <iostream>")
		call append(line(".")+14, "using namespace std;")
		call append(line(".")+15, "int main(){")
		call append(line(".")+16, "")
		call append(line(".")+17, "    return 0;")
		call append(line(".")+18, "}")
	endif
	"æ–°å»ºæ–‡ä»¶åï¼Œè‡ªåŠ¨å®šä½åˆ°æ–‡ä»¶æœ«å°¾
	autocmd BufNewFile * normal G

endfunc
"æœç´¢
set showmatch  "æ‹¬å·é…å¯¹
set hlsearch
set incsearch


""""""""""""""""""é¢œè‰²é…ç½®  color config""""""""""""""""""""""
""colo elflord

""set t_Co=256
""colo molokai
""colo desert
set background=dark
try
	set t_Co=256
	set t_ut=
	colorscheme codedark
	""colorscheme molokai
catch
	try
		colorscheme desert
	catch
		colorscheme peaksea
	endtry
endtry

set showmatch
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" è¯­è¨€çš„ç¼–è¯‘å’Œè¿è¡Œ           
" æ”¯æŒçš„è¯­è¨€ï¼šjava	     F5ç¼–è¯‘(ä¿å­˜+ç¼–è¯‘)  F6è¿è¡Œ
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
func! CompileCode()
	exec "w"
	if &filetype == "java"
		exec "!javac -encoding utf-8 %"
	endif
	if &filetype == "ruby"
		exec "!ruby -Ku %"
	endif
	if &filetype == "python"
		exec "!python %"
	end
endfunc
func! RunCode()
	if &filetype == "java"
		exec "!java -classpath %:h; %:t:r"
	endif
endfunc

" F7 ä¿å­˜+ç¼–è¯‘
map <F7> :call CompileCode()<CR>

" F6 è¿è¡Œ
map <F6> :call RunCode()<CR>

" F3 åˆ‡æ¢NERDTreeToggleæ¨¡å¼
map <F3> :NERDTreeToggle<CR>
map <F3> :NERDTreeToggle<CR>

" F4 CommandTå·¥å…·ï¼Œfor å¿«é€Ÿæµè§ˆæ–‡ä»¶
map <F4> :CommandT<CR>

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""ruby
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"map <F7> :!ruby % <CR>

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""latexé…ç½®
""è¿™éƒ¨åˆ†æ˜¯copyæ¥çš„ã€‚å¯æ˜¯ç”¨vimäº›latexæ˜¾ç„¶æ˜¯ä¸ªé”™è¯¯ï¼Œæœæ–­æ³¨é‡Šæ‰ã€‚
""æ˜¾ç„¶ï¼Œlatexæ˜¯è¦å’Œemacsé…åˆä½¿ç”¨çš„ã€‚
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""let g:tex_flavor='latex'

""let g:pydiction_menu_height=20

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" å®ç”¨åŠŸèƒ½
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"--------å¼•å· && æ‹¬å·è‡ªåŠ¨åŒ¹é…
:inoremap ( ()<ESC>i
:inoremap ) <c-r>=ClosePair(')')<CR>
""inoremap { {}<ESC>i
""inoremap } <c-r>=ClosePair('}')<CR>
"æ’å…¥{åˆ™ä¸ºå¤šè¡Œçš„é…å¯¹æ–¹å¼ï¼Œæ’å…¥}ä¸ºå•è¡Œçš„é…å¯¹
""imap { {}<ESC>i<CR><ESC>O
"":inoremap } {}<ESC>i  
"æ’å…¥å¤§æ‹¬å· å°±æ˜¯å½•åˆ¶ä¸€ä¸ªå®
:inoremap [ []<ESC>i
:inoremap ] <c-r>=ClosePair(']')<CR>
":inoremap < <><ESC>i
":inoremap > <c-r>=ClosePair('>')<CR>
:inoremap " ""<ESC>i
:inoremap ' ''<ESC>i
:inoremap ` ``<ESC>i
function ClosePair(char)
	if getline('.')[col('.') - 1] == a:char
		return "\<Right>"
	else
		return a:char
	endif
endf
"--------å¯ç”¨ä»£ç æŠ˜å ï¼Œç”¨ç©ºæ ¼é”®æ¥å¼€å…³æŠ˜å  
set foldenable		     " æ‰“å¼€ä»£ç æŠ˜å 
set foldmethod=syntax        " é€‰æ‹©ä»£ç æŠ˜å ç±»å‹
set foldlevel=100            " ç¦æ­¢è‡ªåŠ¨æŠ˜å 
nnoremap <space> @=((foldclosed(line('.')) < 0) ? 'zc':'zo')<CR> 

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""" 
" æ–‡æœ¬æ ¼å¼å’Œæ’ç‰ˆ 
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""" 
set list                        " æ˜¾ç¤ºTabç¬¦ï¼Œ->
""set listchars=tab:\|\ ,         " ä½¿ç”¨ä¸€é«˜äº®ç«–çº¿ä»£æ›¿
set tabstop=4			" åˆ¶è¡¨ç¬¦ä¸º4
set autoindent			" è‡ªåŠ¨å¯¹é½ï¼ˆç»§æ‰¿å‰ä¸€è¡Œçš„ç¼©è¿›æ–¹å¼ï¼‰
set smartindent			" æ™ºèƒ½è‡ªåŠ¨ç¼©è¿›ï¼ˆä»¥cç¨‹åºçš„æ–¹å¼ï¼‰
set softtabstop=4 
set shiftwidth=4		" æ¢è¡Œæ—¶è¡Œé—´äº¤é”™ä½¿ç”¨4ä¸ªç©ºæ ¼
set noexpandtab			" ä¸è¦ç”¨ç©ºæ ¼ä»£æ›¿åˆ¶è¡¨ç¬¦
""set expandtab
set cindent			" ä½¿ç”¨Cæ ·å¼çš„ç¼©è¿›
set smarttab			" åœ¨è¡Œå’Œæ®µå¼€å§‹å¤„ä½¿ç”¨åˆ¶è¡¨ç¬¦
set nowrap			" ä¸è¦æ¢è¡Œæ˜¾ç¤ºä¸€è¡Œ 

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" çŠ¶æ€è¡Œ(å‘½ä»¤è¡Œ)çš„æ˜¾ç¤º
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
set cmdheight=2		     " å‘½ä»¤è¡Œï¼ˆåœ¨çŠ¶æ€è¡Œä¸‹ï¼‰çš„é«˜åº¦ï¼Œé»˜è®¤ä¸º1ï¼Œè¿™é‡Œæ˜¯2
set ruler				 " å³ä¸‹è§’æ˜¾ç¤ºå…‰æ ‡ä½ç½®çš„çŠ¶æ€è¡Œ
set laststatus=2		 " å¼€å¯çŠ¶æ€æ ä¿¡æ¯ 
set wildmenu		     " å¢å¼ºæ¨¡å¼ä¸­çš„å‘½ä»¤è¡Œè‡ªåŠ¨å®Œæˆæ“ä½œ 

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" æ–‡ä»¶ç›¸å…³
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""""""set fenc=utf-8
""set encoding=utf-8		" è®¾ç½®vimçš„å·¥ä½œç¼–ç ä¸ºutf-8ï¼Œå¦‚æœæºæ–‡ä»¶ä¸æ˜¯æ­¤ç¼–ç ï¼Œvimä¼šè¿›è¡Œè½¬æ¢åæ˜¾ç¤º
""""""set fileencoding=utf-8		" è®©vimæ–°å»ºæ–‡ä»¶å’Œä¿å­˜æ–‡ä»¶ä½¿ç”¨utf-8ç¼–ç 
""""""set fileencodings=utf-8,gbk,cp936,latin-1
filetype on				     " ä¾¦æµ‹æ–‡ä»¶ç±»å‹
filetype indent on			     " é’ˆå¯¹ä¸åŒçš„æ–‡ä»¶ç±»å‹é‡‡ç”¨ä¸åŒçš„ç¼©è¿›æ ¼å¼
filetype plugin on			     " é’ˆå¯¹ä¸åŒçš„æ–‡ä»¶ç±»å‹åŠ è½½å¯¹åº”çš„æ’ä»¶
syntax on				     " è¯­æ³•é«˜äº®
filetype plugin indent on    " å¯ç”¨è‡ªåŠ¨è¡¥å…¨

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" æŸ¥æ‰¾
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
set hlsearch                 " å¼€å¯é«˜äº®æ˜¾ç¤ºç»“æœ
set nowrapscan               " æœç´¢åˆ°æ–‡ä»¶ä¸¤ç«¯æ—¶ä¸é‡æ–°æœç´¢
set incsearch                " å¼€å¯å®æ—¶æœç´¢åŠŸèƒ½

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" persistent undo
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
try
	set undodir=~/.vim/temp_dirs/undodir
	set undofile
catch
endtry


"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" listchars
" usage: :set list
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"\u21A6 is â‡¥
"set listchars=eol:$,tab:â‡¥Â¬Â¬,trail:Â·,extends:>,precedes:<,space:Â·
" 0x1F862 is ğŸ¡¢
" https://vi.stackexchange.com/questions/422/displaying-tabs-as-characters
set listchars=tab:ğŸ¡¢\ ,trail:Â·,extends:>,precedes:<,space:Â·

" Set the list char color
" https://vi.stackexchange.com/questions/6136/how-to-dim-characters-from-set-list/6140#6140
" :hi SpecialKey ctermfg=grey guifg=grey50
" https://gist.github.com/morumo/9405368
:hi SpecialKey ctermfg=darkgray guifg=gray70


"===
"=== Terminal Behaviors
"===
"autocmd TermOpen term://* startinsert
" ä½¿ç”¨ Ctrl + j å¬å”¤å‡ºterminalï¼Œ å°±åƒ VSCode ä¸€æ ·
noremap <C-j> :terminal<CR>

"===
"=== æœ‰äº›æŒ‰é”®ä»æ¥ä¸æƒ³ç”¨ï¼Œä½†å®¹æ˜“å¤§å°å†™å¼„é”™å¯¼è‡´è¯¯ç”¨
"=== é‚£å°±å¹²è„†å¹²æ‰å®ƒä»¬
cnoreabbrev X x 
cnoreabbrev W w    
